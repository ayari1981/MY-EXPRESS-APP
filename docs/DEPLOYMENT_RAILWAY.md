# ๐ ูุดุฑ ุงูุชุทุจูู ุนูู Railway

## ููุงุฐุง Railwayุ
- โ **ูุฌุงูู** - 500 ุณุงุนุฉ ุดูุฑูุงู
- โ **ุณูู ุฌุฏุงู** - ูุดุฑ ุจุถุบุทุฉ ูุงุญุฏุฉ
- โ **ูุงุนุฏุฉ ุจูุงูุงุช ูุฏูุฌุฉ** - MySQL ุฌุงูุฒ
- โ **ูุดุฑ ุชููุงุฆู** - ูู GitHub
- โ **ุฏูููู ูุฌุงูู** - `.railway.app`

---

## ุงูุฎุทูุงุช ุงููุงููุฉ:

### 1๏ธโฃ ุงูุชุญุถูุฑ

#### ุฃ. ุฅูุดุงุก ููู `.gitignore`:

ุฃูุดุฆ ููู `.gitignore` ูู ูุฌูุฏ ุงููุดุฑูุน:

```
node_modules/
.env
uploads/*.pdf
uploads/*.docx
uploads/*.pptx
uploads/lessons/*
uploads/profile-pics/*
!uploads/.gitkeep
*.log
.DS_Store
```

#### ุจ. ุฅูุดุงุก ููู `railway.json`:

```json
{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "NIXPACKS"
  },
  "deploy": {
    "startCommand": "npm start",
    "restartPolicyType": "ON_FAILURE",
    "restartPolicyMaxRetries": 10
  }
}
```

#### ุฌ. ุชุญุฏูุซ `package.json`:

ุชุฃูุฏ ูู ูุฌูุฏ:

```json
{
  "scripts": {
    "start": "node src/app.js",
    "dev": "nodemon src/app.js"
  },
  "engines": {
    "node": ">=18.0.0",
    "npm": ">=9.0.0"
  }
}
```

---

### 2๏ธโฃ ุฑูุน ุงููุดุฑูุน ุนูู GitHub

```bash
# ูู ูุฌูุฏ ุงููุดุฑูุน
git init
git add .
git commit -m "Initial commit - Ecole Chebbi"

# ุฅูุดุงุก repository ุนูู GitHub
# ุซู:
git remote add origin https://github.com/username/ecole-chebbi.git
git branch -M main
git push -u origin main
```

---

### 3๏ธโฃ ุฅูุดุงุก ูุดุฑูุน ุนูู Railway

1. **ุงุฐูุจ ุฅูู Railway:**
   - https://railway.app
   
2. **ุณุฌู ุฏุฎูู:**
   - ุงุถุบุท "Login"
   - ุงุฎุชุฑ "Login with GitHub"
   - ูุงูู ุนูู ุงูุตูุงุญูุงุช

3. **ุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ:**
   - ุงุถุบุท "New Project"
   - ุงุฎุชุฑ "Deploy from GitHub repo"
   - ุงุฎุชุฑ `ecole-chebbi` ูู ุงููุงุฆูุฉ
   - ุงุถุบุท "Deploy Now"

---

### 4๏ธโฃ ุฅุถุงูุฉ ูุงุนุฏุฉ ุจูุงูุงุช MySQL

1. **ูู ุตูุญุฉ ุงููุดุฑูุน:**
   - ุงุถุบุท "+ New"
   - ุงุฎุชุฑ "Database"
   - ุงุฎุชุฑ "Add MySQL"

2. **ุงูุชุธุฑ ุงูุชุซุจูุช:**
   - Railway ุณูุซุจุช MySQL ุชููุงุฆูุงู
   - ุณูุธูุฑ ูู ุงููุดุฑูุน

3. **ุงุญุตู ุนูู ูุนูููุงุช ุงูุงุชุตุงู:**
   - ุงุถุบุท ุนูู MySQL service
   - ุงุฐูุจ ุฅูู ุชุจููุจ "Variables"
   - ุณุชุฌุฏ:
     - `MYSQL_URL`
     - `MYSQL_HOST`
     - `MYSQL_PORT`
     - `MYSQL_USER`
     - `MYSQL_PASSWORD`
     - `MYSQL_DATABASE`

---

### 5๏ธโฃ ุถุจุท ูุชุบูุฑุงุช ุงูุจูุฆุฉ

1. **ุงุฑุฌุน ูุฎุฏูุฉ ุงูุชุทุจูู:**
   - ุงุถุบุท ุนูู service ุงูุชุทุจูู ุงูุฑุฆูุณู

2. **ุงุฐูุจ ุฅูู Variables:**
   - ุงุถุบุท ุนูู ุชุจููุจ "Variables"

3. **ุฃุถู ุงููุชุบูุฑุงุช:**

```
DB_HOST=${{MySQL.MYSQL_HOST}}
DB_PORT=${{MySQL.MYSQL_PORT}}
DB_NAME=${{MySQL.MYSQL_DATABASE}}
DB_USER=${{MySQL.MYSQL_USER}}
DB_PASSWORD=${{MySQL.MYSQL_PASSWORD}}
NODE_ENV=production
SESSION_SECRET=your-super-secret-key-change-this-to-something-random
PORT=3000
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=.pdf,.docx,.doc,.pptx,.ppt
ADMIN_EMAIL=admin@ecole-chebbi.tn
ADMIN_PASSWORD=admin123
```

โ๏ธ **ููู:** ุบููุฑ `SESSION_SECRET` ุฅูู ุดูุก ุนุดูุงุฆู ููุนูุฏ!

4. **ุงุญูุธ:**
   - Railway ุณูุนูุฏ ุงููุดุฑ ุชููุงุฆูุงู

---

### 6๏ธโฃ ุงุณุชูุฑุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### ุงูุทุฑููุฉ ุงูุฃููู: ุนุจุฑ Railway CLI

```bash
# ุชุซุจูุช Railway CLI
npm i -g @railway/cli

# ุชุณุฌูู ุงูุฏุฎูู
railway login

# ุฑุจุท ุงููุดุฑูุน
railway link

# ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
railway run mysql -u root -p

# ุซู ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช
railway run mysql -u root -p database_name < database.sql
```

#### ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุนุจุฑ MySQL Workbench ุฃู TablePlus

1. **ุงุญุตู ุนูู ูุนูููุงุช ุงูุงุชุตุงู ูู Railway**
2. **ุงุชุตู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช**
3. **ุงุณุชูุฑุฏ ููู `database.sql`**

#### ุงูุทุฑููุฉ ุงูุซุงูุซุฉ: ุฏุน Sequelize ูููุดุฆ ุงูุฌุฏุงูู

- Sequelize ุณููุดุฆ ุงูุฌุฏุงูู ุชููุงุฆูุงู ุนูุฏ ุฃูู ุชุดุบูู
- ููู ูู ูููู ููุงู ุจูุงูุงุช

---

### 7๏ธโฃ ุงูุญุตูู ุนูู ุฑุงุจุท ุงูุชุทุจูู

1. **ูู ุตูุญุฉ ุงูุชุทุจูู:**
   - ุงุถุบุท ุนูู "Settings"
   - ุงุจุญุซ ุนู "Domains"
   
2. **ุฅูุดุงุก ุฏูููู:**
   - ุงุถุบุท "Generate Domain"
   - ุณุชุญุตู ุนูู ุฑุงุจุท ูุซู: `ecole-chebbi-production.up.railway.app`

3. **ุฃู ุฃุถู ุฏูููู ูุฎุตุต:**
   - ุงุถุบุท "Custom Domain"
   - ุฃุฏุฎู ุฏููููู: `www.yourschool.com`
   - ุงุชุจุน ุงูุชุนูููุงุช ูุถุจุท DNS

---

### 8๏ธโฃ ุฅูุดุงุก ุญุณุงุจ ุงููุฏูุฑ

ุจุนุฏ ูุดุฑ ุงูุชุทุจูู:

1. **ุงูุชุญ ุงูุชุทุจูู ูู ุงููุชุตูุญ**

2. **ุงุฐูุจ ุฅูู ุตูุญุฉ ุงูุชุณุฌูู:**
   - `https://your-app.railway.app/auth/register`

3. **ุณุฌู ุญุณุงุจ ูุฏูุฑ:**
   - ุงูุงุณู: ูุฏูุฑ ุงููุธุงู
   - ุงูุจุฑูุฏ: admin@school.com
   - ูููุฉ ุงููุฑูุฑ: (ูููุฉ ูุฑูุฑ ูููุฉ)
   - ุงูุฏูุฑ: admin

---

### 9๏ธโฃ ุงุฎุชุจุงุฑ ุงูุชุทุจูู

โ **ุงุฎุชุจุฑ:**
- ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- ุชุณุฌูู ุงูุฏุฎูู
- ุฅูุดุงุก ุญุณุงุจุงุช (ุฃุณุชุงุฐุ ุชูููุฐ)
- ุฑูุน ุฏุฑุณ
- ุนุฑุถ ุงูุฏุฑูุณ
- ุชุญููู ุงููููุงุช
- ุงูุชุนูููุงุช

---

## ๐ ุงูุชุญุฏูุซุงุช ุงูุชููุงุฆูุฉ

**Railway ูุฑุงูุจ GitHub ุชููุงุฆูุงู!**

ุนูุฏูุง ุชุฏูุน ุชุญุฏูุซุงุช:

```bash
git add .
git commit -m "ุชุญุฏูุซ ุฌุฏูุฏ"
git push origin main
```

Railway ุณููุดุฑ ุงูุชุญุฏูุซุงุช ุชููุงุฆูุงู! ๐

---

## ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก

ูู Railway Dashboard:

1. **Metrics:**
   - ุงุณุชุฎุฏุงู CPU
   - ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ
   - ุนุฏุฏ ุงูุทูุจุงุช

2. **Logs:**
   - ุณุฌูุงุช ุงูุชุทุจูู
   - ุงูุฃุฎุทุงุก
   - ุงุถุบุท "View Logs"

3. **Deployments:**
   - ุชุงุฑูุฎ ุงููุดุฑ
   - ูุณุฎ ุณุงุจูุฉ

---

## ๐พ ุงููุณุฎ ุงูุงุญุชูุงุทู

### ุชุตุฏูุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู Railway:

```bash
# ุจุงุณุชุฎุฏุงู Railway CLI
railway run mysqldump -u root -p database_name > backup.sql

# ุฃู ูุจุงุดุฑุฉ
mysqldump -h RAILWAY_HOST -P RAILWAY_PORT -u RAILWAY_USER -p RAILWAY_DB > backup.sql
```

### ุฌุฏููุฉ ุงููุณุฎ ุงูุงุญุชูุงุทู:

ุฃูุดุฆ GitHub Action ูู `.github/workflows/backup.yml`:

```yaml
name: Database Backup
on:
  schedule:
    - cron: '0 2 * * *'  # ูู ููู ุงูุณุงุนุฉ 2 ุตุจุงุญุงู
  workflow_dispatch:

jobs:
  backup:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Backup Database
        run: |
          # ุฃุถู ุณูุฑูุจุช ุงููุณุฎ ุงูุงุญุชูุงุทู ููุง
```

---

## ๐ ุงูุฃูุงู

### ุชูุนูู HTTPS:

Railway ูููุฑ HTTPS ุชููุงุฆูุงู! โ

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงูุญุณุงุณุฉ:

- โ ูููุง ูุญููุฉ ูู Railway
- โ ูุง ุชุธูุฑ ูู Logs
- โ ูุดูุฑุฉ

### ุชุญุฏูุซ ุงููุชุบูุฑุงุช:

```bash
railway variables set SESSION_SECRET=new-secret-key
```

---

## ๐ ุฑูุน ุงูุญุฏูุฏ

Railway ุงููุฌุงูู ูููุฑ:
- โ 500 ุณุงุนุฉ ุชูููุฐ/ุดูุฑ
- โ 1GB ุฐุงูุฑุฉ
- โ 1GB ุชุฎุฒูู

**ููุชุฑููุฉ:**
- ุงุฐูุจ ุฅูู Settings โ Usage
- ุงุฎุชุฑ ุฎุทุฉ ูุฏููุนุฉ ($5/ุดูุฑ)

---

## ๐ ุญู ุงููุดุงูู

### ุงูุชุทุจูู ูุง ูุนููุ

1. **ุชุญูู ูู Logs:**
   ```bash
   railway logs
   ```

2. **ุชุญูู ูู ุงููุชุบูุฑุงุช:**
   - Variables โ ุชุฃูุฏ ูู ุฌููุน ุงููุชุบูุฑุงุช ููุฌูุฏุฉ

3. **ุชุญูู ูู Build:**
   - Deployments โ ุงูุธุฑ ุขุฎุฑ build

### ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุง ุชุชุตูุ

1. **ุชุญูู ูู ุงููุชุบูุฑุงุช:**
   - `DB_HOST`, `DB_USER`, `DB_PASSWORD`

2. **ุชุญูู ูู MySQL Service:**
   - ูุฌุจ ุฃู ูููู running (ุฃุฎุถุฑ)

### ุงููููุงุช ูุง ุชูุฑูุนุ

โ๏ธ **ูุดููุฉ ูููุฉ:**
Railway ูุณุชุฎุฏู Ephemeral Storage (ูุคูุช)

**ุงูุญู:**
- ุงุณุชุฎุฏู AWS S3
- ุฃู Cloudinary
- ุฃู ุฎุฏูุฉ ุชุฎุฒูู ุฎุงุฑุฌูุฉ

ุณูุถูู ูุฐุง ูุงุญูุงู ุฅุฐุง ุงุญุชุฌุช.

---

## โ ูุงุฆูุฉ ุงูุชุญูู

- [ ] ุงููุดุฑูุน ุนูู GitHub
- [ ] ูุดุฑูุน Railway ููุดุฃ
- [ ] ูุงุนุฏุฉ ุจูุงูุงุช MySQL ูุถุงูุฉ
- [ ] ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูุถุจูุทุฉ
- [ ] ุงูุชุทุจูู deployed ุจูุฌุงุญ
- [ ] ุงูุฏูููู ูุนูู
- [ ] ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุณุชูุฑุฏุฉ
- [ ] ุญุณุงุจ ุงููุฏูุฑ ููุดุฃ
- [ ] ุฌููุน ุงูููุฒุงุช ุชุนูู

---

## ๐ ูุจุฑูู!

ุชุทุจููู ุงูุขู ุนูู ุงูุฅูุชุฑูุช! ๐

**ุฑุงุจุทู:**
`https://your-app-name.up.railway.app`

ุดุงุฑู ูุฐุง ุงูุฑุงุจุท ูุน ุงููุฏุฑุณุฉ! ๐
