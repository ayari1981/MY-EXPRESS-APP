<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %> - المدرسة الإعدادية أبو القاسم الشابي</title>
  <link href="/css/output.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <%- include('../partials/navbar') %>
  
  <section class="min-h-screen bg-gray-100 py-8">
    <div class="container mx-auto px-4">
      <div class="max-w-3xl mx-auto">
        <!-- العودة -->
        <div class="mb-6">
          <a href="/admin/schedules" class="text-primary-600 hover:text-primary-800">
            <i class="fas fa-arrow-right ml-1"></i>
            العودة لقائمة الجداول
          </a>
        </div>

        <!-- نموذج الرفع -->
        <div class="bg-white rounded-lg shadow-md p-8">
          <h2 class="text-3xl font-bold text-gray-800 mb-2">
            <i class="fas fa-upload ml-2 text-primary-600"></i>
            رفع جدول جديد
          </h2>
          <p class="text-gray-600 mb-8">
            قم برفع جدول الأوقات للتلاميذ أو الأساتذة
          </p>

          <%- include('../partials/messages') %>

          <form action="/admin/schedules/upload" method="POST" enctype="multipart/form-data">
            <!-- العنوان -->
            <div class="mb-6">
              <label class="block text-gray-700 font-semibold mb-2" for="title">
                <i class="fas fa-heading ml-2"></i>
                عنوان الجدول *
              </label>
              <input 
                type="text" 
                id="title" 
                name="title" 
                class="input-field"
                required
                placeholder="مثال: جدول أوقات السابعة أساسي - الفصل الأول"
              >
            </div>

            <!-- الوصف -->
            <div class="mb-6">
              <label class="block text-gray-700 font-semibold mb-2" for="description">
                <i class="fas fa-align-right ml-2"></i>
                الوصف (اختياري)
              </label>
              <textarea 
                id="description" 
                name="description" 
                class="input-field"
                rows="3"
                placeholder="وصف مختصر عن الجدول..."
              ></textarea>
            </div>

            <!-- نوع الجدول والقسم -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
              <div>
                <label class="block text-gray-700 font-semibold mb-2" for="scheduleType">
                  <i class="fas fa-users ml-2"></i>
                  نوع الجدول *
                </label>
                <select id="scheduleType" name="scheduleType" class="input-field" required>
                  <option value="">اختر النوع</option>
                  <option value="تلاميذ">جدول التلاميذ</option>
                  <option value="أساتذة">جدول الأساتذة</option>
                </select>
              </div>

              <div>
                <label class="block text-gray-700 font-semibold mb-2" for="classLevel">
                  <i class="fas fa-graduation-cap ml-2"></i>
                  القسم المستهدف *
                </label>
                <select id="classLevel" name="classLevel" class="input-field" required>
                  <option value="">اختر القسم</option>
                  <option value="السابعة أساسي">السابعة أساسي</option>
                  <option value="الثامنة أساسي">الثامنة أساسي</option>
                  <option value="التاسعة أساسي">التاسعة أساسي</option>
                  <option value="جميع الأقسام">جميع الأقسام</option>
                </select>
              </div>
            </div>

            <!-- رفع الملف -->
            <div class="mb-6">
              <label class="block text-gray-700 font-semibold mb-2" for="scheduleFile">
                <i class="fas fa-file-upload ml-2"></i>
                ملف الجدول *
              </label>
              <input 
                type="file" 
                id="scheduleFile" 
                name="scheduleFile" 
                class="input-field"
                required
                accept=".pdf,.docx,.doc,.xlsx,.xls,.jpg,.jpeg,.png"
              >
              <p class="text-sm text-gray-500 mt-1">
                الأنواع المسموحة: PDF, DOCX, XLSX, JPG, PNG (الحد الأقصى: 10MB)
              </p>
            </div>

            <!-- ملاحظات -->
            <div class="bg-blue-50 border-r-4 border-blue-500 rounded-lg p-4 mb-6">
              <h4 class="font-semibold text-blue-800 mb-2">
                <i class="fas fa-info-circle ml-1"></i>
                ملاحظات هامة
              </h4>
              <ul class="text-sm text-gray-700 space-y-1">
                <li><i class="fas fa-check text-green-500 ml-1"></i> تأكد من وضوح الجدول وسهولة قراءته</li>
                <li><i class="fas fa-check text-green-500 ml-1"></i> استخدم صيغة PDF للحصول على أفضل النتائج</li>
                <li><i class="fas fa-check text-green-500 ml-1"></i> سيتمكن الجميع من تحميل الجدول</li>
                <li><i class="fas fa-check text-green-500 ml-1"></i> يمكنك تعديل أو حذف الجدول لاحقاً</li>
              </ul>
            </div>

            <!-- أزرار الإجراء -->
            <div class="flex justify-end space-x-reverse space-x-4">
              <a href="/admin/schedules" class="btn-secondary">
                إلغاء
              </a>
              <button type="submit" class="btn-primary">
                <i class="fas fa-upload ml-2"></i>
                رفع الجدول
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>

  <%- include('../partials/footer') %>
</body>
</html>
